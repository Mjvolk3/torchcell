---
id: 9i3ujuayeu4t4pkzi11or4p
title: '22'
desc: ''
updated: 1711211049742
created: 1711210218863
---
## 2024.03.23 - Killed do to slow gene_set and experiment_reference_index

- Line 32 shows only a few seconds for `gene_set`, `32 410399it [00:42, 9628.27it/s]`.
- Line 34, show s that it took `7hr 30min` to complete `experimental_reference_index` for `TmfKuzmin2016`. `34 100%|██████████| 410399/410399 [7:31:45<00:00, 15.14it/s]`.

Computing the `experimental_reference_index` for `DmfCostanzo2016` will never finish with these speeds.

- Yanked from slurm log `20705612it [3:45:15, 1531.98it/s]`. 3 hr 45 min to compute `gene_set`
- Yanked from slurm log `1%|          | 256192/20705612 [1:07:42<57:20:40, 99.06it/s]`. Won't ever finish.

```bash
 1 [2024-03-22 19:49:52,099][__main__][INFO] - Number of workers: 64
 2 [2024-03-22 19:49:52,107][__main__][INFO] - Instantiating dataset: SmfCostanzo2016Dataset
 3 Downloading https://thecellmap.org/costanzo2016/data_files/Raw%20genetic%20interaction%20datasets:%20Pair-wise%20interaction%20format.zip
 4 Processing...
 5 [2024-03-22 20:00:57,704][torchcell.datasets.scerevisiae.costanzo2016][INFO] - Processing SMF Files...
 6 100%|██████████| 20484/20484 [12:04<00:00, 28.27it/s]
 7 [2024-03-22 20:07:03,901][torchcell.data.experiment_dataset][INFO] - Computing gene set...
 8 20484it [00:00, 106023.48it/s]
 9   0%|          | 0/20484 [00:00<?, ?it/s]
10 Computing experiment_reference_index hashes...
11 Finding unique references...
12 [2024-03-22 20:22:53,628][__main__][INFO] - Instantiating dataset: SmfKuzmin2018Dataset
13 100%|██████████| 2/2 [00:00<00:00, 17.48it/s]
14 Done!
15 Downloading https://raw.githubusercontent.com/Mjvolk3/torchcell/main/data/host/aao1729_data_s1.zip
16 Processing...
17 [2024-03-22 20:23:56,836][torchcell.datasets.scerevisiae.kuzmin2018][INFO] - Processing Dmf Files...
18 100%|██████████| 1539/1539 [00:00<00:00, 5667.48it/s]
19 [2024-03-22 20:23:57,368][torchcell.data.experiment_dataset][INFO] - Computing gene set...
20 Computing experiment_reference_index hashes...
21 1539it [00:00, 98395.41it/s]
22 100%|██████████| 1539/1539 [01:33<00:00, 16.40it/s]
23 Finding unique references...
24 100%|██████████| 1/1 [00:00<00:00, 94.79it/s]
25 [2024-03-22 20:27:24,796][__main__][INFO] - Instantiating dataset: DmfKuzmin2018Dataset
26 Done!
27 Downloading https://raw.githubusercontent.com/Mjvolk3/torchcell/main/data/host/aao1729_data_s1.zip
28 Processing...
29 [2024-03-22 20:27:41,276][torchcell.datasets.scerevisiae.kuzmin2018][INFO] - Processing Dmf Files...
30 100%|██████████| 410399/410399 [00:42<00:00, 9769.50it/s]
31 [2024-03-22 20:28:25,126][torchcell.data.experiment_dataset][INFO] - Computing gene set...
32 410399it [00:42, 9628.27it/s]
33 Computing experiment_reference_index hashes...
34 100%|██████████| 410399/410399 [7:31:45<00:00, 15.14it/s]
35 Finding unique references...
36 100%|██████████| 1/1 [00:00<00:00,  4.84it/s]
37 Done!
38 Downloading https://raw.githubusercontent.com/Mjvolk3/torchcell/main/data/host/aao1729_data_s1.zip
39 [2024-03-23 04:01:29,678][__main__][INFO] - Instantiating dataset: TmfKuzmin2018Dataset
40 Processing...
41 [2024-03-23 04:02:16,920][torchcell.datasets.scerevisiae.kuzmin2018][INFO] - Processing Dmf Files...
42 100%|██████████| 91111/91111 [00:10<00:00, 8310.14it/s]
43 91111it [00:05, 16869.40it/s]
44 [2024-03-23 04:02:28,562][torchcell.data.experiment_dataset][INFO] - Computing gene set...
45 100%|██████████| 91111/91111 [41:42<00:00, 36.40it/s]
46 Computing experiment_reference_index hashes...
47 Finding unique references...
48 [2024-03-23 04:44:17,309][__main__][INFO] - Instantiating dataset: DmfCostanzo2016Dataset
49 100%|██████████| 1/1 [00:00<00:00, 95.97it/s]
50 Done!
51 Downloading https://thecellmap.org/costanzo2016/data_files/Raw%20genetic%20interaction%20datasets:%20Pair-wise%20interaction%20format.zip
52 [2024-03-23 04:44:38,030][torchcell.datasets.scerevisiae.costanzo2016][INFO] - Reading and Concatenating Raw Files...
53 Processing...
54 20705612it [3:45:15, 1531.98it/s]
55 [2024-03-23 04:44:52,268][torchcell.datasets.scerevisiae.costanzo2016][INFO] - Preprocess on raw data...
56 [2024-03-23 04:47:08,792][torchcell.datasets.scerevisiae.costanzo2016][INFO] - Processing DMF Files...
57   0%|          | 7/20706 [00:01<58:21,  5.91it/s]
58 [2024-03-23 06:13:05,586][torchcell.data.experiment_dataset][INFO] - Computing gene set...
59 3986it [00:01, 5114.09it/s]
60   1%|          | 255065/20705612 [1:07:27<29:33:03, 192.23it/s]
61 Computing experiment_reference_index hashes...
```
