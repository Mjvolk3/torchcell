# Nodes
dataset:
    represented_as: node

study:
    represented_as: node
    properties:
        name: str

publication:
    represented_as: node
    properties:
        pubmed_id: str
        pubmed_url: str
        doi: str
        doi_url: str
        serialized_data: str

experiment:
    represented_as: node
    is_a: material sample
    # preferred_id:
    properties:
        serialized_data: str

experiment reference:
    represented_as: node
    is_a: genome
    properties:
        serialized_data: str

experiment reference member of:
    is_a: material sample derivation association
    represented_as: edge
    source: experiment reference
    target: dataset

experiment member of:
    is_a: material sample derivation association
    represented_as: edge
    source: experiment
    target: dataset

experiment reference of:
    is_a: material sample derivation association
    represented_as: edge
    source: experiment reference
    target: experiment

genome:
    represented_as: node
    properties:
        species: str
        strain: str
        serialized_data: str

genotype:
    represented_as: node
    properties:
        systematic_gene_names: list
        perturbed_gene_names: list
        perturbation_types: list
        serialized_data: str

perturbation:
    is_a: genotype
    represented_as: node
    properties:
        systematic_gene_name: str
        perturbed_gene_name: str
        perturbation_type: str
        description: str
        strain_id: str
        serialized_data: str

environment:
    is_a: environmental exposure
    represented_as: node
    properties:
        temperature: str
        media: str
        serialized_data: str

media:
    is_a: environmental exposure
    represented_as: node
    properties:
        name: str
        state: str
        serialized_data: str

temperature:
    is_a: environmental exposure
    represented_as: node
    properties:
        value: float
        unit: str
        serialized_data: str

# TODO expand out to include different phenotypes.
fitness phenotype:
    is_a: phenotypic feature
    represented_as: node
    properties:
        graph_level: str
        label: str
        label_statistic: str
        fitness: float
        fitness_std: float
        serialized_data: str

new_phenotype:
    is_a: phenotypic feature
    represented_as: node
    properties:
        graph_level: str
        label: str
        label_statistic: str
        fitness: float
        fitness_std: float
        serialized_data: str
    
# RELATIONSHIPS

# IDEA to represent inheritance structure we could use "part_of"
# "material sample derivation association" is more like sample from a whole. which is less correct.
# IDEA I think "has_participant" is likely most correct if we consider the experiment as 'process' and the children as 'continuants'
# https://biolink.github.io/biolink-model/has_participant/


genotype member of:
    is_a: material sample derivation association
    represented_as: edge
    source: genotype
    target: experiment

perturbation member of:
    is_a: material sample derivation association
    represented_as: edge
    source: perturbation
    target: genotype

environment member of:
    is_a: material sample derivation association
    represented_as: edge
    source: environment
    target: [experiment, experiment reference]


# IDEA could use "has_phenotype"
# Would require reversing direction of edge
phenotype member of:
    is_a: material sample derivation association
    represented_as: edge
    source: fitness phenotype
    target: [experiment, experiment reference]

media member of:
    is_a: material sample derivation association
    represented_as: edge
    source: media
    target: environment

temperature member of:
    is_a: material sample derivation association
    represented_as: edge
    source: temperature
    target: environment

genome member of:
    is_a: material sample derivation association
    represented_as: edge
    source: genome
    target: experiment reference

# publication mentions experiment:
    # is_a: mentions
mentions:
    represented_as: edge
    source: publication
    target: experiment